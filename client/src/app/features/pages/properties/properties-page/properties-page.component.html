<div class="properties-container" [class.blur-content]="selectedProperty">
  <h2>My Properties</h2>

  <div *ngIf="isLoading" class="loader">Loading...</div>

  <ng-container *ngIf="!isLoading">
    <div *ngIf="userProperties.length === 0" class="no-data">
      <p>You haven't listed any properties yet.</p>
      <button routerLink="/create-property">List Your First Accommodation</button>
    </div>

    <div *ngIf="userProperties.length > 0" class="properties-grid">
      <div class="property-card" *ngFor="let prop of userProperties" (click)="openDetails(prop)">
        <div class="status-badge" [class.approved]="prop.approved">
          {{ prop.approved ? 'Live' : 'Pending Approval' }}
        </div>
        <div class="property-image">
          <img *ngIf="prop.images && prop.images.length > 0; else noImage" [src]="prop.images[0]">
          <ng-template #noImage><div class="no-image">No Image</div></ng-template>
        </div>
        <div class="property-info">
          <h3>{{ prop.name }}</h3>
          <p class="location">üìç {{ prop.location }}</p>
          <p class="price"><strong>{{ prop.price }}‚Ç¨</strong> / night</p>
        </div>
      </div>
    </div>
  </ng-container>
</div>

<app-property-details
  *ngIf="selectedProperty"
  [property]="selectedProperty"
  (close)="closeDetails()">
</app-property-details>
